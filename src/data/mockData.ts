import { Pod, LogEntry } from '@/types/kubernetes';

export const mockPods: Pod[] = [
  {
    id: '1',
    name: 'api-gateway-7d9f8b6c5-xkl2m',
    namespace: 'production',
    status: 'Running',
    nodeName: 'node-worker-01',
    podIP: '10.244.0.15',
    createdAt: '2024-01-15T08:30:00Z',
    restarts: 0,
    labels: { app: 'api-gateway', version: 'v2.1.0' },
    containers: [
      {
        id: 'c1',
        name: 'api-gateway',
        image: 'company/api-gateway:v2.1.0',
        status: 'Running',
        ready: true,
        restartCount: 0,
        startedAt: '2024-01-15T08:30:15Z',
      },
      {
        id: 'c2',
        name: 'envoy-sidecar',
        image: 'envoyproxy/envoy:v1.28.0',
        status: 'Running',
        ready: true,
        restartCount: 0,
        startedAt: '2024-01-15T08:30:12Z',
      },
    ],
  },
  {
    id: '2',
    name: 'user-service-5b4c3d2a1-mn9p8',
    namespace: 'production',
    status: 'OOMKilled',
    nodeName: 'node-worker-02',
    podIP: '10.244.1.23',
    createdAt: '2024-01-14T12:00:00Z',
    restarts: 5,
    labels: { app: 'user-service', version: 'v1.5.2' },
    containers: [
      {
        id: 'c3',
        name: 'user-service',
        image: 'company/user-service:v1.5.2',
        status: 'Terminated',
        ready: false,
        restartCount: 5,
        startedAt: '2024-01-15T10:45:00Z',
        lastState: { reason: 'OOMKilled', exitCode: 137, message: 'Memory limit exceeded' },
      },
    ],
  },
  {
    id: '3',
    name: 'payment-processor-8e7f6g5h-qr4s3',
    namespace: 'production',
    status: 'Running',
    nodeName: 'node-worker-01',
    podIP: '10.244.0.42',
    createdAt: '2024-01-10T06:15:00Z',
    restarts: 1,
    labels: { app: 'payment-processor', version: 'v3.0.1' },
    containers: [
      {
        id: 'c4',
        name: 'payment-api',
        image: 'company/payment-processor:v3.0.1',
        status: 'Running',
        ready: true,
        restartCount: 1,
        startedAt: '2024-01-14T09:20:00Z',
      },
      {
        id: 'c5',
        name: 'redis-cache',
        image: 'redis:7.2-alpine',
        status: 'Running',
        ready: true,
        restartCount: 0,
        startedAt: '2024-01-10T06:15:30Z',
      },
    ],
  },
  {
    id: '4',
    name: 'notification-worker-2a3b4c5d-tu6v7',
    namespace: 'staging',
    status: 'CrashLoopBackOff',
    nodeName: 'node-worker-03',
    podIP: '10.244.2.11',
    createdAt: '2024-01-15T14:00:00Z',
    restarts: 12,
    labels: { app: 'notification-worker', version: 'v0.9.0' },
    containers: [
      {
        id: 'c6',
        name: 'worker',
        image: 'company/notification-worker:v0.9.0',
        status: 'Waiting',
        ready: false,
        restartCount: 12,
        startedAt: '2024-01-15T15:30:00Z',
        lastState: { reason: 'CrashLoopBackOff', exitCode: 1, message: 'Application failed to start' },
      },
    ],
  },
  {
    id: '5',
    name: 'postgres-primary-0',
    namespace: 'databases',
    status: 'Running',
    nodeName: 'node-worker-02',
    podIP: '10.244.1.5',
    createdAt: '2024-01-01T00:00:00Z',
    restarts: 0,
    labels: { app: 'postgres', role: 'primary' },
    containers: [
      {
        id: 'c7',
        name: 'postgres',
        image: 'postgres:16.1',
        status: 'Running',
        ready: true,
        restartCount: 0,
        startedAt: '2024-01-01T00:01:00Z',
      },
    ],
  },
  {
    id: '6',
    name: 'ingress-nginx-controller-xyz123',
    namespace: 'ingress-nginx',
    status: 'Pending',
    nodeName: '',
    podIP: '',
    createdAt: '2024-01-15T16:00:00Z',
    restarts: 0,
    labels: { app: 'ingress-nginx', component: 'controller' },
    containers: [
      {
        id: 'c8',
        name: 'controller',
        image: 'registry.k8s.io/ingress-nginx/controller:v1.9.5',
        status: 'Waiting',
        ready: false,
        restartCount: 0,
        startedAt: '',
      },
    ],
  },
  {
    id: '7',
    name: 'metrics-collector-7h8i9j0k-wx1y2',
    namespace: 'monitoring',
    status: 'Running',
    nodeName: 'node-worker-01',
    podIP: '10.244.0.88',
    createdAt: '2024-01-12T10:30:00Z',
    restarts: 0,
    labels: { app: 'metrics-collector', version: 'v1.2.0' },
    containers: [
      {
        id: 'c9',
        name: 'collector',
        image: 'company/metrics-collector:v1.2.0',
        status: 'Running',
        ready: true,
        restartCount: 0,
        startedAt: '2024-01-12T10:30:45Z',
      },
      {
        id: 'c10',
        name: 'prometheus-adapter',
        image: 'prom/prometheus:v2.48.0',
        status: 'Running',
        ready: true,
        restartCount: 0,
        startedAt: '2024-01-12T10:30:30Z',
      },
    ],
  },
  {
    id: '8',
    name: 'scheduler-job-failed-abc123',
    namespace: 'jobs',
    status: 'Error',
    nodeName: 'node-worker-03',
    podIP: '10.244.2.99',
    createdAt: '2024-01-15T11:00:00Z',
    restarts: 3,
    labels: { app: 'scheduler', type: 'cronjob' },
    containers: [
      {
        id: 'c11',
        name: 'scheduler',
        image: 'company/scheduler:v2.0.0',
        status: 'Terminated',
        ready: false,
        restartCount: 3,
        startedAt: '2024-01-15T11:05:00Z',
        lastState: { reason: 'Error', exitCode: 1, message: 'Database connection failed' },
      },
    ],
  },
];

export const generateMockLogs = (containerId: string): LogEntry[] => {
  const baseMessages = [
    { level: 'info' as const, message: 'Starting application...' },
    { level: 'info' as const, message: 'Loading configuration from environment' },
    { level: 'info' as const, message: 'Connecting to database at postgres://db:5432' },
    { level: 'info' as const, message: 'Database connection established' },
    { level: 'info' as const, message: 'Initializing HTTP server on port 8080' },
    { level: 'info' as const, message: 'Server started successfully' },
    { level: 'info' as const, message: 'Health check endpoint ready at /health' },
    { level: 'warn' as const, message: 'High memory usage detected: 85% of limit' },
    { level: 'info' as const, message: 'Processing incoming request GET /api/users' },
    { level: 'info' as const, message: 'Request completed in 45ms' },
    { level: 'error' as const, message: 'Failed to connect to external service: timeout after 30s' },
    { level: 'warn' as const, message: 'Retrying connection in 5 seconds...' },
    { level: 'info' as const, message: 'Connection restored to external service' },
    { level: 'info' as const, message: 'Cache invalidated for key: user_sessions' },
    { level: 'info' as const, message: 'Background job completed: cleanup_expired_tokens' },
    { level: 'warn' as const, message: 'Slow query detected: 1250ms for users lookup' },
    { level: 'info' as const, message: 'Metrics exported to Prometheus endpoint' },
    { level: 'error' as const, message: 'Unhandled exception in worker thread' },
    { level: 'info' as const, message: 'Worker thread restarted' },
    { level: 'info' as const, message: 'Graceful shutdown initiated' },
  ];

  const now = new Date();
  return baseMessages.map((msg, index) => ({
    id: `${containerId}-log-${index}`,
    timestamp: new Date(now.getTime() - (baseMessages.length - index) * 60000).toISOString(),
    level: msg.level,
    message: msg.message,
  }));
};
